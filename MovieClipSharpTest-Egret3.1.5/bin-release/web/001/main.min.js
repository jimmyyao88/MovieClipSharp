var Main=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var a=(__define,t),n=a.prototype;return n.onAddToStage=function(e){this.load(this.initMovieClip)},n.initMovieClip=function(){var e=new egret.MovieClipDataFactory(this._mcData,this._mcTexture),t=new egret.MovieClip(e.generateMovieClipData("attack"));this.addChild(t),t.gotoAndPlay(1,3),t.x=300,t.y=600,t.addEventListener(egret.Event.COMPLETE,function(e){egret.log("play over!")},this);var a=0;t.addEventListener(egret.Event.LOOP_COMPLETE,function(e){egret.log("play times:"+ ++a)},this),t.addEventListener(egret.MovieClipEvent.FRAME_LABEL,function(e){egret.log("frameLabel:"+e.frameLabel)},this),this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){a=0,t.gotoAndPlay(1,3)},this)},n.load=function(e){var t=0,a=this,n=function(){t++,2==t&&e.call(a)},r=new egret.URLLoader;r.addEventListener(egret.Event.COMPLETE,function(e){var t=e.currentTarget;this._mcTexture=t.data,n()},this),r.dataFormat=egret.URLLoaderDataFormat.TEXTURE;var i=new egret.URLRequest("resource/assets/mc/animation.png");r.load(i);var r=new egret.URLLoader;r.addEventListener(egret.Event.COMPLETE,function(e){var t=e.currentTarget;this._mcData=JSON.parse(t.data),n()},this),r.dataFormat=egret.URLLoaderDataFormat.TEXT;var i=new egret.URLRequest("resource/assets/mc/animation.json");r.load(i)},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");